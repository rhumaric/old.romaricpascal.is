<!doctype html><html lang="en-US"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        .u-troisCoups body>* {
            visibility: hidden;
        }
    </style>
    <script>
        (function(window) {
            if (document.documentElement.classList) {
                window.troisCoups = {
                    reveal: function() {
                        document.documentElement.classList.remove('u-troisCoups');
                    }
                };


                document.documentElement.classList.add('u-troisCoups');
                setTimeout(window.troisCoups.reveal, 1500);
            }
        })(window);
    </script>

    <link rel="stylesheet" href="/wp-content/themes/romaricpascal.is/style.css">
    <link rel="alternate" type="application/rss+xml" title="Romaric Pascal | Lettering &#x26; web development" href="/feed">

    <title> Composing animations through functions | Romaric Pascal</title>
    <meta name="description" content="Lettering &#x26; web development">

    <link rel="apple-touch-icon" sizes="180x180" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/favicon-16x16.png">
    <link rel="manifest" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/manifest.json">
    <link rel="mask-icon" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/safari-pinned-tab.svg" color="#022950">
    <link rel="shortcut icon" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/favicon.ico">
    <meta name="msapplication-config" content="/wp-content/themes/romaricpascal.is/assets/images/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffc744">
    <!-- FB OpenGraph info -->
    <meta prefix="og:http://ogp.me/ns#" property="og:url" content="/writing-about/composing-animations-through-functions/">
    <meta prefix="og:http://ogp.me/ns#" property="og:title" content="   Composing animations through functions | Romaric Pascal">
    <meta prefix="og:http://ogp.me/ns#" property="og:description" content="Lettering &#x26; web development">
    <meta prefix="og:http://ogp.me/ns#" property="og:image" content="/wp-content/themes/romaricpascal.is/assets/images/rp_with-padding_yellowbg_480.png">

    <!-- Twitter cards -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@romaricpascal">
    <meta name="twitter:title" content="   Composing animations through functions | Romaric Pascal">
    <meta name="twitter:description" content="Lettering &#x26; web development">
    <meta name="twitter:image" content="/wp-content/themes/romaricpascal.is/assets/images/rp_with-padding_yellowbg_480.png">

    


    



    <link rel="canonical" href="/writing-about/composing-animations-through-functions/">
</head>

<body class="post-template-default single single-post postid-1114 single-format-standard flexbug3Wrapper">
    <header id="#header" class="rp-Header"><p class="rp-Banner">
            I'm no longer doing lettering professionally, to re-focus on web development. 
            A <a href="https://romaricpascal.is">newer version of this site</a> is being built to reflect this.
            <br>
            This version is kept as an archive to ensure its <a href="https://4042302.org/">content don't disappear as I update my site</a>
          </p><div class="rp-HeaderContent">
        <a class="rp-Logo" href="/" title="Home">
            <img src="/wp-content/themes/romaricpascal.is/assets/images/rp-letters_144.png" alt="R-P monogram">
        </a>
        <nav class="rp-BreadcrumbNav">
            <div class="rp-CollapsedItemsMenu">
                <a class="rp-BreadcrumbLink rp-CollapsedItemsMenuToggle js-toggle" data-toggle-group="overlays" data-toggle-target=".rp-CollapsedItems">
                    <span class="rp-BreadcrumbLinkSeparator"></span>
                    <span class="rp-BreadcrumbLink__title">...</span>
                </a>
                <div class="rp-CollapsedItems js-outsideToggle"></div>
            </div>
            <div class="rp-BreadcrumbNavItems js-collapsible">
                <a href="/writing-about/" class="rp-BreadcrumbLink">
                    <span class="rp-BreadcrumbLinkSeparator"></span>
                    <span class="rp-BreadcrumbLink__title">Posts</span>
                </a>
            </div>
        </nav>
        <nav class="rp-MainNav">
            <a class="t-hidden-visually" tabindex="1" href="#content">Skip to content</a>
            <a href="#main-nav" class="js-toggle" data-toggle-group="overlays" data-toggle-target=".rp-MenuContainer">Menu</a>
            <div class="rp-MenuContainer js-outsideToggle" id="main-nav">
                <a class="rp-NavLogo" href="/" title="Home">
                    <img src="/wp-content/themes/romaricpascal.is/assets/images/rp-knockout_shade_144.png" alt="Home">
                </a>
                <div class="menu-site-navigation-container">
                    <ul id="menu-site-navigation" class="rp-Menu rp-Header__menuI">
                        <li id="menu-item-936" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-936">
                            <a href="/">Home</a></li>
                        <li id="menu-item-960" class="menu-item menu-item-type-post_type_archive menu-item-object-project menu-item-has-children menu-item-960">
                            <a href="/proud-of/">Portfolio</a>
                            <ul class="sub-menu">
                                <li id="menu-item-942" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-942"><a href="/proud-of/logo-brand-designs">Logo &#x26; Brand</a></li>
                                <li id="menu-item-954" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-954"><a href="/proud-of/tshirts-merch-designs/">T-shirts &#x26; merch</a></li>
                                <li id="menu-item-957" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-957"><a href="/proud-of/print-illustration-designs">Print &#x26; illustration</a></li>
                            </ul>
                        </li>
                        <li id="menu-item-964" class="menu-item menu-item-type-post_type_archive menu-item-object-artwork menu-item-964"><a href="/drawing-letters/">Artworks</a></li>
                        <li id="menu-item-935" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-935">
                            <a href="/writing-about/">Blog</a></li>
                        <li id="menu-item-933" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-933"><a href="/happy-to-chat/">Contact</a></li>
                        <li id="menu-item-1022" class="menu-item menu-item-type-taxonomy menu-item-object-craft current-post-ancestor current-menu-parent current-post-parent menu-item-1022">
                            <a href="/writing-about/craft/web/">Web</a></li>
                        <li id="menu-item-934" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-934"><a target="_blank" href="/selling-nice-stuff/">Shop</a></li>
                    </ul>
                </div> <a class="rp-MenuToggle js-toggle" href="#" data-toggle-group="overlays" data-toggle-target=".rp-MenuContainer">Close menu</a>
                <small class="rp-Legal l-Container">© Romaric Pascal (trading name of <a href="https://beta.companieshouse.gov.uk/company/08544032">Rhumaric Ltd</a>)</small>
            </div>
        </nav>
    </div></header>
    <div class="rp-Viewport l-vertCentered u-mh-100vh">


        <article class="rp-Content">
            <header class="rp-HeaderWithSubhead u-mb-2">
                <h1 class="rp-HeaderWithSubhead__heading">
                    Composing animations through functions </h1>
                <p><time datetime="2017-10-27T19:37:02+00:00">27 Oct 2017</time> — An article about: <a href="/writing-about/craft/web/" rel="tag">Web</a> - <a href="/writing-about/category/js/animations/" rel="category tag">Animations</a> - <a href="/writing-about/category/js/" rel="category tag">JS</a></p>
            </header>
            <main>
                <p>In <a href="/writing-about/animations-with-javascript-functions/">the introduction of this venture
                        into animations</a> and functions, the animation was simply fading in one element (linearly).
                    Enough for an example, but not really fitting if we talk animating multiple elements, or multiple
                    properties.</p>
                <p>We’d want to run multiple animations at the same time, maybe with specific timings, perhaps also
                    control how the progress flows (easing, revert…). </p>
                <p>Focus on the animation functions rather than the sources.</p>
                <p>Let’s see how we can express that with little functions to compose into a bigger animation.</p>
                <h2 id="controlling-progress"><a name="user-content-controlling-progress" href="#controlling-progress" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Controlling
                    progress</h2>
                <p>Progress, with a time source at least, flows linearly. It’s simple, but doesn’t give the animation a
                    natural feel. In the real world, objects don’t start moving at their cruise speed straight away. If
                    they ever move at a constant speed anyway. And equally, they don’t stop instantly once they’ve
                    finished moving.</p>
                <p>To mimic that in animations, we need something to alter how progress… well… progresses. That’s the
                    role of easing functions. This is not only important for things to look natural, but easings also
                    allow to play on the feelings conveyed by the animation: make something hurry out of the screen, or
                    instead enter with a sluggish, heavy feel.</p>
                <p>Easing functions have been around for a while, the most used being the list by Robert Penner, though
                    you can define custom bezier curves or even use spring physics. So let’s focus on how we can use
                    them with our animation. For that, we can write a wrapper function that will apply the easing before
                    delegating the rest to the animation.</p>
                <figure>
                    <script src="https://gist.github.com/rhumaric/7921124960e3a48511315c3f123c2626.js?file=easing.js"></script>
                    <br>
                </figure>
                <p>And with that, we can control how progress flows. On the same principle, we can write a function that
                    will revert the animations.</p>
                <figure>
                    <script src="https://gist.github.com/rhumaric/7921124960e3a48511315c3f123c2626.js?file=revert.js"></script>
                    <p></p>
                    <div class="o-ratio o-ratio--16:9">
                        <iframe src="/wp-content/uploads/demo/animation-with-functions/composing-animations/progress/">&#x26;#x26;#x3C;br />
                            &#x26;#x26;#x3C;a href="/wp-content/uploads/demo/animation-with-functions/composing-animations/progress/">See
                                the demo&#x26;#x26;#x3C;/a>&#x26;#x26;#x3C;br />
                        </iframe>
                    </div>
                    <figcaption class="u-ta-c" style="padding: 0.5em;">Click the dots to run the animation.<br>Notice
                        how the second dot accelerates and decelerates more naturally.</figcaption>
                </figure>
                <p>These two simple examples show the general pattern we’ll be applying for the rest of the article and
                    go towards coordinating the animation of multiple elements.</p>
                <h2 id="multiple-animations"><a name="user-content-multiple-animations" href="#multiple-animations" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Multiple
                    animations</h2>
                <p>So far, we’re still stuck with running just one animation at a time. To animate the 3 dots, we need 3
                    sources of times.</p>
                <figure>
                    <script src="https://gist.github.com/rhumaric/7921124960e3a48511315c3f123c2626.js?file=time-sources.js"></script>
                    <br>
                </figure>
                <p>It works, but if we could run it with only one source of time, it would make things a bit more
                    reusable. With the same pattern as before (creating a new function that wraps the various animations
                    we want to play) we can write this little function for playing them all in one go:</p>
                <figure>
                    <script src="https://gist.github.com/rhumaric/7921124960e3a48511315c3f123c2626.js?file=parallel.js"></script>
                    <p></p>
                    <div class="o-ratio o-ratio--16:9">
                        <iframe src="/wp-content/uploads/demo/animation-with-functions/composing-animations/parallel/">&#x26;#x26;#x3C;br />
                            &#x26;#x26;#x3C;a href="/wp-content/uploads/demo/animation-with-functions/composing-animations/parallel/">See
                                the demo&#x26;#x26;#x3C;/a>&#x26;#x26;#x3C;br />
                        </iframe>
                    </div>
                    <figcaption class="u-ta-c" style="padding: 0.5em;">Click the dots to run the animation.</figcaption>
                </figure>
                <p>There we go! We can now play several animations from the same source of progress. One little issue
                    though, they all run for the full duration. Let’s see how we can tackle that.</p>
                <h2 id="shifting-timings"><a name="user-content-shifting-timings" href="#shifting-timings" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Shifting
                    timings</h2>
                <p>So let’s see how we can coordinate the movements of the 3 dots. Maybe make the second wait a little
                    before it goes and quickly reaches the end so that the 3rd still have some time left to make its way
                    back.</p>
                <p>For this, we need to transform the progress that each animation receives. Each will need to go from 0
                    to 1 while the progress of the <code>parallel</code> animation goes over smaller intervals.</p>
                <p>Sounds a bit like easing, but it’s a very specific one. It sticks the progress to 0 while the
                    progress hasn’t been enough, then ramps to 1 until the animation is done and from there sticks to
                    one. It’s not so big to write on its own as:</p>
                <figure>
                    <script src="https://gist.github.com/rhumaric/7921124960e3a48511315c3f123c2626.js?file=shift.js"></script>
                    <p></p>
                    <div class="o-ratio o-ratio--16:9">
                        <iframe src="/wp-content/uploads/demo/animation-with-functions/composing-animations/shift/">&#x26;#x26;#x3C;br />
                            &#x26;#x26;#x3C;a href="/wp-content/uploads/demo/animation-with-functions/composing-animations/shift/">See
                                the demo&#x26;#x26;#x3C;/a>&#x26;#x26;#x3C;br />
                        </iframe>
                    </div>
                    <figcaption class="u-ta-c" style="padding: 0.5em;">Click the dots to run the animation.</figcaption>
                </figure>
                <p>We got there! Composing functions we managed to animate different things on their own timing.</p>
                <p>Of course, like the rest of this adventure, this is just a base to get started. On this topic
                    especially, reasoning in percentages quickly becomes tricky if we want to create complex animations,
                    for example. <a href="https://github.com/rhumaric/tinymation/issues/10">Reasoning in absolute units,
                        like milliseconds</a> would be much easier.</p>
                <p>And of course around the areas for making animations with functions. I’ve started to gather some code
                    on the <a href="https://github.com/rhumaric/tinymation">tinymation project on Github</a>. If you
                    have thoughts on the topic, maybe specific use case, I’d be really happy to head about them. Feel
                    free to <a href="https://github.com/rhumaric/tinymation">look at the code</a> and <a href="https://github.com/rhumaric/tinymation/issues">add issues (or comment on the existing
                        ones)</a>.</p>
            </main>
            <aside>

            </aside>
            <nav class="rp-PrevNextNav">
                <a class="rp-PrevNextLink rp-PrevNextLink-prev rp-PrevNextNav__previous" href="/writing-about/expressive-scroll-animations/" rel="prev" accesskey="j" data-key="left" title="Expressive scroll animations">
                    title </a>
                <span class="rp-PrevNextLink rp-PrevNextLink-disabled rp-PrevNextLink-next rp-PrevNextNav__next">No next
                    post</span>
            </nav>
        </article>

    </div>


    <script defer src="/wp-content/themes/romaricpascal.is/main.js"></script>




</body></html>