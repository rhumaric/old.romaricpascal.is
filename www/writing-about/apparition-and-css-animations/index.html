<!doctype html><html lang="en-US"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        .u-troisCoups body>* {
            visibility: hidden;
        }
    </style>
    <script>
        (function(window) {
            if (document.documentElement.classList) {
                window.troisCoups = {
                    reveal: function() {
                        document.documentElement.classList.remove('u-troisCoups');
                    }
                };


                document.documentElement.classList.add('u-troisCoups');
                setTimeout(window.troisCoups.reveal, 1500);
            }
        })(window);
    </script>

    <link rel="stylesheet" href="/wp-content/themes/romaricpascal.is/style.css">
    <link rel="alternate" type="application/rss+xml" title="Romaric Pascal | Lettering &#x26; web development" href="/feed">

    <title> Apparition and CSS Animations | Romaric Pascal</title>
    <meta name="description" content="Lettering &#x26; web development">

    <link rel="apple-touch-icon" sizes="180x180" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/favicon-16x16.png">
    <link rel="manifest" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/manifest.json">
    <link rel="mask-icon" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/safari-pinned-tab.svg" color="#022950">
    <link rel="shortcut icon" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/favicon.ico">
    <meta name="msapplication-config" content="/wp-content/themes/romaricpascal.is/assets/images/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffc744">
    <!-- FB OpenGraph info -->
    <meta prefix="og:http://ogp.me/ns#" property="og:url" content="/writing-about/apparition-and-css-animations/">
    <meta prefix="og:http://ogp.me/ns#" property="og:title" content="   Apparition and CSS Animations | Romaric Pascal">
    <meta prefix="og:http://ogp.me/ns#" property="og:description" content="Lettering &#x26; web development">
    <meta prefix="og:http://ogp.me/ns#" property="og:image" content="/wp-content/themes/romaricpascal.is/assets/images/rp_with-padding_yellowbg_480.png">

    <!-- Twitter cards -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@romaricpascal">
    <meta name="twitter:title" content="   Apparition and CSS Animations | Romaric Pascal">
    <meta name="twitter:description" content="Lettering &#x26; web development">
    <meta name="twitter:image" content="/wp-content/themes/romaricpascal.is/assets/images/rp_with-padding_yellowbg_480.png">

    


    



    <link rel="canonical" href="/writing-about/apparition-and-css-animations/">
</head>

<body class="post-template-default single single-post postid-433 single-format-standard flexbug3Wrapper">
    <header id="#header" class="rp-Header"><p class="rp-Banner">
            I'm no longer doing lettering professionally, to re-focus on web development. 
            A <a href="https://romaricpascal.is">newer version of this site</a> is being built to reflect this.
            <br>
            This version is kept as an archive to ensure its <a href="https://4042302.org/">content don't disappear as I update my site</a>
          </p><div class="rp-HeaderContent">
        <a class="rp-Logo" href="/" title="Home">
            <img src="/wp-content/themes/romaricpascal.is/assets/images/rp-letters_144.png" alt="R-P monogram">
        </a>
        <nav class="rp-BreadcrumbNav">
            <div class="rp-CollapsedItemsMenu">
                <a class="rp-BreadcrumbLink rp-CollapsedItemsMenuToggle js-toggle" data-toggle-group="overlays" data-toggle-target=".rp-CollapsedItems">
                    <span class="rp-BreadcrumbLinkSeparator"></span>
                    <span class="rp-BreadcrumbLink__title">...</span>
                </a>
                <div class="rp-CollapsedItems js-outsideToggle"></div>
            </div>
            <div class="rp-BreadcrumbNavItems js-collapsible">
                <a href="/writing-about/" class="rp-BreadcrumbLink">
                    <span class="rp-BreadcrumbLinkSeparator"></span>
                    <span class="rp-BreadcrumbLink__title">Posts</span>
                </a>
            </div>
        </nav>
        <nav class="rp-MainNav">
            <a class="t-hidden-visually" tabindex="1" href="#content">Skip to content</a>
            <a href="#main-nav" class="js-toggle" data-toggle-group="overlays" data-toggle-target=".rp-MenuContainer">Menu</a>
            <div class="rp-MenuContainer js-outsideToggle" id="main-nav">
                <a class="rp-NavLogo" href="/" title="Home">
                    <img src="/wp-content/themes/romaricpascal.is/assets/images/rp-knockout_shade_144.png" alt="Home">
                </a>
                <div class="menu-site-navigation-container">
                    <ul id="menu-site-navigation" class="rp-Menu rp-Header__menuI">
                        <li id="menu-item-936" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-936">
                            <a href="/">Home</a></li>
                        <li id="menu-item-960" class="menu-item menu-item-type-post_type_archive menu-item-object-project menu-item-has-children menu-item-960">
                            <a href="/proud-of/">Portfolio</a>
                            <ul class="sub-menu">
                                <li id="menu-item-942" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-942"><a href="/proud-of/logo-brand-designs">Logo &#x26; Brand</a></li>
                                <li id="menu-item-954" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-954"><a href="/proud-of/tshirts-merch-designs/">T-shirts &#x26; merch</a></li>
                                <li id="menu-item-957" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-957"><a href="/proud-of/print-illustration-designs">Print &#x26; illustration</a></li>
                            </ul>
                        </li>
                        <li id="menu-item-964" class="menu-item menu-item-type-post_type_archive menu-item-object-artwork menu-item-964"><a href="/drawing-letters/">Artworks</a></li>
                        <li id="menu-item-935" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-935">
                            <a href="/writing-about/">Blog</a></li>
                        <li id="menu-item-933" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-933"><a href="/happy-to-chat/">Contact</a></li>
                        <li id="menu-item-1022" class="menu-item menu-item-type-taxonomy menu-item-object-craft current-post-ancestor current-menu-parent current-post-parent menu-item-1022">
                            <a href="/writing-about/craft/web/">Web</a></li>
                        <li id="menu-item-934" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-934"><a target="_blank" href="/selling-nice-stuff/">Shop</a></li>
                    </ul>
                </div> <a class="rp-MenuToggle js-toggle" href="#" data-toggle-group="overlays" data-toggle-target=".rp-MenuContainer">Close menu</a>
                <small class="rp-Legal l-Container">Â© Romaric Pascal (trading name of <a href="https://beta.companieshouse.gov.uk/company/08544032">Rhumaric Ltd</a>)</small>
            </div>
        </nav>
    </div></header>
    <div class="rp-Viewport l-vertCentered u-mh-100vh">


        <article class="rp-Content">
            <header class="rp-HeaderWithSubhead u-mb-2">
                <h1 class="rp-HeaderWithSubhead__heading">
                    Apparition and CSS Animations </h1>
                <p><time datetime="2013-12-30T12:30:59+00:00">30 Dec 2013</time> â€” An article about: <a href="/writing-about/craft/web/" rel="tag">Web</a> - <a href="/writing-about/category/uncategorized/" rel="category tag">Uncategorized</a></p>
            </header>
            <main>
                <p>Last article played with <a href="/keeping-old-stuff/hiding-elements-and-css-animations/">CSS
                        animations to transition smoothly when making an element disapear</a>. The follow up was pretty
                    easy to find: letâ€™s see how to animate the apparition of an element on the page!</p>
                <p><em>Note: As for the previous article, the article focus on the code manipulating the CSS animation.
                        Donâ€™t forget to make sure the element appears correctly on the page in browsers that do not
                        support CSS animations ðŸ™‚</em></p>
                <h2 id="fixed-dimensions">Fixed dimensions</h2>
                <p>When the dimensions of the inserted element are set in CSS, things are pretty simple. The starting
                    point is clear (often a <code>width</code> or <code>height</code> of 0). Everything is static, which
                    means keyframes can sit quietly in the a stylesheet. All thatâ€™s left is to trigger the animation by
                    <a href="/keeping-old-stuff/updating-style-with-javascript/">using Javascript to style the
                        element</a> with the right <code>animation</code>. Easy, peasy!</p>
                <p><iframe width="100%" height="300" src="https://jsfiddle.net/rhumaric/25RGY/embedded/result,js,css,html" allowfullscreen frameborder="0"></iframe></p>
                <p>Even when the dimensions of the new element are set in Javascript, things stay pretty simple. The
                    animation just has to be <a href="/keeping-old-stuff/css-animations-and-javascript/">generated with
                        Javascript</a> rather than sitting in a stylesheet. What makes things tricky is when the
                    dimensions of the new element depend on its content. It happens quite often (if not most of the
                    time), but things arenâ€™t lost there ðŸ™‚</p>
                <h2 id="fluid-dimensions">Fluid dimensions</h2>
                <p>For elements sized according to their content, I think youâ€™ll have guessed the issue: how to measure
                    the element's final size (and/or position) while it's not yet displayed, as the CSS animation needs
                    this information to animate properly (medreams of animation working with <code>auto</code> values
                    :p)? </p>
                <p>One strategy to overcome this problem is to create a hidden clone of the container the element is
                    inserted in, with the same dimensions as the one already on the page. It needs:</p>
                <ul>
                    <li>to be hidden using <code>visibility: hidden</code> rather than <code>display: none</code> so the
                        layout gets computed</li>
                    <li>to be out of the flow, so it does not leave a massive blank space on the screen.
                        <code>position: absolute</code> makes a fine candidate for this.</li>
                </ul>
                <p>With the clone in the DOM all thatâ€™s left is to insert the element in the clone, measure whatever is
                    needed for the animation, <a href="/keeping-old-stuff/css-animations-and-javascript/">generate the
                        appropriate keyframes</a> and trigger the animation.</p>
                <p>Let's see how this looks with a list of items: </p>
                <p><iframe width="100%" height="450" src="https://jsfiddle.net/rhumaric/eFu4L/embedded/result,js,css,html/" allowfullscreen frameborder="0"></iframe></p>
                <p>There are a few things to keep in mind when using this method:</p>
                <ul>
                    <li><strong>how cloning is done</strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node.cloneNode" &#x26;#x26;#x3c;code="">Node.cloneNode()</a> is the simplest way of cloning the container. However, the
                        container might be the parent of a complex DOM structure you might not want to clone entirely
                        everytime an element is added. Creating placeholders of the containerâ€™s children could make
                        things simpler there. All thatâ€™s needed to measure the new element is the container and its
                        child sizes, position and display properties.</li>
                    <li><strong>how the element is inserted in the clone</strong>: depending on how your container and
                        its children are styled, you might not need to insert the element the same exact way it would be
                        inserted in the document. A simple <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node.appendChild">Node.appendChild</a>
                        can do the trick (like in the example).
                    </li>
                    <li><strong>what to measure</strong>: obviously, youâ€™ll want the dimensions (and maybe the position)
                        of the inserted element. The insertion of and element will also shift its siblings around.
                        Sometimes, the animation of the new element will also smoothly shift the siblings. But you might
                        need to measure the new siblings positions and sizes and create them custom animationsâ€¦ if you
                        want to animate them, of course!</li>
                </ul>
                <h2 id="wrapping-it-up">Wrapping it up</h2>
                <p>When animating the apparition of a new element, knowing its final dimensions is the tricky part. Itâ€™s
                    not so bad when its dimensions are set using CSS or Javascript. When the size depends on the
                    content, a nice way to get them is to insert it in a hidden clone of its container. For the price of
                    a temporary duplication of some of the DOM, you get an accurate measure how big the element will be
                    once inserted on the page!</p>
            </main>
            <aside>

            </aside>
            <nav class="rp-PrevNextNav">
                <a class="rp-PrevNextLink rp-PrevNextLink-prev rp-PrevNextNav__previous" href="/writing-about/hiding-elements-and-css-animations/" rel="prev" accesskey="j" data-key="left" title="Hiding elements and CSS animations">
                    title </a>
                <a class="rp-PrevNextLink rp-PrevNextLink-next rp-PrevNextNav__next" href="/writing-about/building-a-yeoman-generator/" rel="next" accesskey="k" data-key="right" title="Building a Yeoman generator">
                    title </a>
            </nav>
        </article>

    </div>


    <script defer src="/wp-content/themes/romaricpascal.is/main.js"></script>




</body></html>