
<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        .u-troisCoups body>* {
            visibility: hidden;
        }
    </style>
    <script>
        (function (window) {
            if (document.documentElement.classList) {
                window.troisCoups = {
                    reveal: function () {
                        document.documentElement.classList.remove('u-troisCoups');
                    }
                };


                document.documentElement.classList.add('u-troisCoups');
                setTimeout(window.troisCoups.reveal, 1500);
            }
        })(window);
    </script>

    <link rel="stylesheet" href="/wp-content/themes/romaricpascal.is/style.css">
    <link rel="alternate" type="application/rss+xml" title="Romaric Pascal | Lettering &amp; web development" href="/feed">

    <title>   Building a Yeoman generator | Romaric Pascal</title>
    <meta name="description" content="Lettering &amp; web development">

    <link rel="apple-touch-icon" sizes="180x180" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/favicon-16x16.png">
<link rel="manifest" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/manifest.json">
<link rel="mask-icon" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/safari-pinned-tab.svg" color="#022950">
<link rel="shortcut icon" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/favicon.ico">
<meta name="msapplication-config" content="/wp-content/themes/romaricpascal.is/assets/images/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffc744">
    <!-- FB OpenGraph info -->
        <meta prefix="og:http://ogp.me/ns#" property="og:url" content="/writing-about/building-a-yeoman-generator/">
        <meta prefix="og:http://ogp.me/ns#" property="og:title" content="   Building a Yeoman generator | Romaric Pascal">
    <meta prefix="og:http://ogp.me/ns#" property="og:description" content="Lettering &amp; web development">
    <meta prefix="og:http://ogp.me/ns#" property="og:image" content="/wp-content/themes/romaricpascal.is/assets/images/rp_with-padding_yellowbg_480.png">

    <!-- Twitter cards -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@romaricpascal" />
    <meta name="twitter:title" content="   Building a Yeoman generator | Romaric Pascal" />
    <meta name="twitter:description" content="Lettering &amp; web development" />
    <meta name="twitter:image" content="/wp-content/themes/romaricpascal.is/assets/images/rp_with-padding_yellowbg_480.png" />

    <link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Romaric Pascal &raquo; Building a Yeoman generator Comments Feed" href="/writing-about/building-a-yeoman-generator/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/romaricpascal.is\/wordpress\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.8.13"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b!==c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='contact-form-7-css'  href='/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=4.9' type='text/css' media='all' />
<script type='text/javascript' src='/wordpress/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wordpress/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel="canonical" href="/writing-about/building-a-yeoman-generator/" />
  </head>
  <body class="post-template-default single single-post postid-452 single-format-standard flexbug3Wrapper">
    <header id="#header" class="rp-Header">
        <a class="rp-Logo" href="" title="Home">
    <img src="/wp-content/themes/romaricpascal.is/assets/images/rp-letters_144.png" alt="R-P monogram">
</a>
<nav class="rp-BreadcrumbNav">
    <div class="rp-CollapsedItemsMenu">
        <a class="rp-BreadcrumbLink rp-CollapsedItemsMenuToggle js-toggle" data-toggle-group="overlays" data-toggle-target=".rp-CollapsedItems">
            <span class="rp-BreadcrumbLinkSeparator"></span>
            <span class="rp-BreadcrumbLink__title">...</span>
        </a>
        <div class="rp-CollapsedItems js-outsideToggle"></div>
    </div>
    <div class="rp-BreadcrumbNavItems js-collapsible">
				<a href="/writing-about/" class="rp-BreadcrumbLink">
			<span class="rp-BreadcrumbLinkSeparator"></span>
			<span class="rp-BreadcrumbLink__title">Posts</span>
		</a>
		    </div>
</nav>      <nav class="rp-MainNav">
        <a class="t-hidden-visually" tabindex="1" href="#content">Skip to content</a>
        <a href="#main-nav" class="js-toggle" data-toggle-group="overlays" data-toggle-target=".rp-MenuContainer">Menu</a>
        <div class="rp-MenuContainer js-outsideToggle" id="main-nav">
        <a class="rp-NavLogo" href="" title="Home">
            <img src="/wp-content/themes/romaricpascal.is/assets/images/rp-knockout_shade_144.png" alt="Home">
        </a>
        <div class="menu-site-navigation-container"><ul id="menu-site-navigation" class="rp-Menu rp-Header__menuI"><li id="menu-item-936" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-936"><a href="/">Home</a></li>
<li id="menu-item-960" class="menu-item menu-item-type-post_type_archive menu-item-object-project menu-item-has-children menu-item-960"><a href="/proud-of/">Portfolio</a>
<ul  class="sub-menu">
	<li id="menu-item-942" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-942"><a href="/proud-of/logo-brand-designs">Logo &#038; Brand</a></li>
	<li id="menu-item-954" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-954"><a href="/proud-of/tshirts-merch-designs/">T-shirts &#038; merch</a></li>
	<li id="menu-item-957" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-957"><a href="/proud-of/print-illustration-designs">Print &#038; illustration</a></li>
</ul>
</li>
<li id="menu-item-964" class="menu-item menu-item-type-post_type_archive menu-item-object-artwork menu-item-964"><a href="/drawing-letters/">Artworks</a></li>
<li id="menu-item-935" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-935"><a href="/writing-about/">Blog</a></li>
<li id="menu-item-933" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-933"><a href="/happy-to-chat/">Contact</a></li>
<li id="menu-item-1022" class="menu-item menu-item-type-taxonomy menu-item-object-craft current-post-ancestor current-menu-parent current-post-parent menu-item-1022"><a href="/writing-about/craft/web/">Web</a></li>
<li id="menu-item-934" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-934"><a target="_blank" href="/selling-nice-stuff/">Shop</a></li>
</ul></div>        <a class="rp-MenuToggle js-toggle" href="#" data-toggle-group="overlays" data-toggle-target=".rp-MenuContainer">Close menu</a>
        <small class="rp-Legal l-Container">Â© Romaric Pascal (trading name of <a href="https://beta.companieshouse.gov.uk/company/08544032">Rhumaric Ltd</a>)</small>
        </div>
      </nav>
    </header>
    <div class="rp-Viewport l-vertCentered u-mh-100vh">


<article class="rp-Content">
  <header class="rp-HeaderWithSubhead u-mb-2">
    <h1 class="rp-HeaderWithSubhead__heading">
        Building a Yeoman generator    </h1>
    <p><time datetime="2014-01-15T21:57:59+00:00">15 Jan 2014</time> â€” An article about: <a href="/writing-about/craft/web/" rel="tag">Web</a> - <a href="/writing-about/category/uncategorized/" rel="category tag">Uncategorized</a></p>
  </header>
  <main>
    <p>I&#39;m taking a quick break from the shiny land of CSS animations. Back to the black and white (or green and white, or whatever your console colors are) land of workflow automation, with a quick explanation of what it took to build my first generator for <a href="http://yeoman.io/">Yeoman</a>: <a href="https://github.com/rhumaric/generator-playground">generator-playground</a>.</p>
<h2 id="a-bit-of-context">A bit of context</h2>
<p>I got tired of always repeating the same steps when I wanted to make a quick HTML/CSS/JS experiment or example. JSBin, JSFiddle and the like are great online tools, but sometimes, I prefer my good ol&#39; text editor on my machine. This was a great pretext to finally give a good go at Yeoman and see if it could help me automatically scaffold a few things here (that&#8217;s what it&#8217;s meant for after all).</p>
<p>My requirements where pretty limited (it was my first go with Yeoman after all):</p>
<ul>
<li>create an HTML, CSS and JS file with the appropriate <code>&lt;link&gt;</code> and <code>&lt;script&gt;</code> tag to glue them together</li>
<li>optionally include <code>normalize.css</code> and <code>jQuery</code> if asked for</li>
<li>have a Grunt build providing an Express server to host the projects file, and most importantly livereload</li>
<li>create a Git repo, so I can tag specific steps in an example or just in case what started as an experiment finally grows bigger (I could probably have added a question for this) </li>
</ul>
<p>This was already enough to get a nice overview of how Yeoman works and various features to build a generator. </p>
<h2 id="a-quick-try-?">A quick try ?</h2>
<p>Curious and want to give the final a try? That can easily be arranged! You&#39;ll need <a href="https://nodejs.org">node.js</a> on your machine, one shell command (might need to <code>sudo</code>), and that&#39;s about it for the installation:</p>
<div class="highlight">
<pre><span class="err">$</span> <span class="n">npm</span> <span class="n">install</span> <span class="o">-</span><span class="n">g</span> <span class="n">generator</span><span class="o">-</span><span class="n">playground</span>
</pre>
</div>
<p>The generator relies on Yeoman (obviously), Grunt and Bower to work properly. They will get installed along if you don&#39;t have them already (yeah for the <code>peerDependencies</code> property of <code>package.json</code>!!!).</p>
<p>Once you&#39;ve got the generator installed, head over to the folder you want to create the files in and go:</p>
<div class="highlight">
<pre><span class="err">$</span> <span class="n">yo</span> <span class="n">playground</span>
</pre>
</div>
<p>This should have got you ready to hack: the project files have been created in the folder, and if you run <code>grunt server</code>, the server hosting the project will star and your browser should open (a new tab, maybe) <code>http://localhost:9000</code>.</p>
<h2 id="a-look-under-the-hood">A look under the hood</h2>
<p>For those of you who made it back safely to the article and didn&#39;t get stuck hacking on the project they just generated, here comes the details on how things work (not necessarily in the order I got them to work).</p>
<h3 id="getting-started">Getting started</h3>
<p>Getting a project for a Yeoman generator started was really quick. Yeoman is a project to scaffold stuff, so they&#39;ve got something to scaffold a <a href="https://github.com/yeoman/generator-generator">Yeoman generator project: <code>generator-generator</code></a>. A quick <code>npm</code> and <code>yo</code> commands later, I had a skeleton for my generator project.</p>
<h3 id="testing-it-out">Testing it out</h3>
<p>Good code is tested code, and I didn&#39;t want the generator to escape this mantra. The generated project came with a couple of test samples in the <code>test</code> folder. They where pretty handy to discover the helpers for running the generator from inside a test, simulating prompt answers or assert that files get copied properly. </p>
<p>The &quot;Run the generator with a set of prompt answers and validate what comes out in the output folder&quot; seemed to be a good enough strategy, as my generator didn&#39;t have too many options. Makes a <a href="https://github.com/rhumaric/generator-playground/blob/master/test/test-creation.js">nice little test suite</a> that can be run by Travis CI.</p>
<h3 id="prompting-the-user">Prompting the user</h3>
<p>This is something I find really awesome: fancy command line prompts. Not just asking your user &quot;Hey, what&#39;s your name?&quot;, but providing defaults, having different kind of prompts (command line checkboxes, anyone?)&#8230; I find this definitely more enjoyable than forcing your user to pass a heavy sequence arguments (though, you probably want to have both).</p>
<p>And it&#8217;s even more enjoyable when your generator class already has that built in a handy <code>prompt()</code> method. I didn&#39;t get to go too fancy for the playground generator, though, <a href="https://github.com/rhumaric/generator-playground/blob/master/app/index.js#L19">only a couple of yes/no questions were required</a>.</p>
<h3 id="generating-the-project-files">Generating the project files</h3>
<p>This is definitely the main task of a Yeoman generator: creating files, folders&#8230; The strategy here seems to be to have a <a href="https://github.com/rhumaric/generator-playground/tree/master/app/templates"><code>templates</code> directory</a> in your project, from which your generator will copy the files to whatever destination they&#39;re supposed to end up at (your generator has a handy <code>copy()</code> method just for that).</p>
<p>Sometimes, you&#39;ll want to do a bit more than a plain copy, maybe include/exclude parts of the files according to the answers of the prompt(s). That&#39;s when the <code>template()</code> method comes in. It uses your files as a template (<a href="http://underscorejs.org/#template">underscore flavour</a>, I think) for what will get in the destination file.</p>
<h3 id="git-setup">Git setup</h3>
<p>The <a href="https://github.com/rhumaric/generator-playground/blob/master/app/index.js#L56">git repository setup</a> (creating a repo and making a first commit with the project files) was the occasion to play a bit with the <a href="https://npmjs.org/package/async">async library</a> to coordinate calls to the <code>git</code> CLI. The massive one liner I had in mind apparently didn&#8217;t cut it :(. This last step made the generator complete (at least for now).</p>
<h2 id="wrapping-it-up">Wrapping it up</h2>
<p>Building this generator ended up being a great way to discover Yeoman and how it makes its scaffolding happen. Hopefully, I&#39;ll get to extend this first project with a few dream features I had to leave aside: support for preprocessor, CSS &amp; JS linting or even getting rid of the dependency for grunt and bower (to scaffold project offline). </p>
<p>Thanks for reading this till the end, I hope you enjoyed it, learnt little tricks or maybe got ideas for your own Yeoman generator. Happy coding ðŸ˜‰</p>
  </main>
  <aside>

  </aside>
  <nav class="rp-PrevNextNav">
		<a class="rp-PrevNextLink rp-PrevNextLink-prev rp-PrevNextNav__previous" 
	   href="/writing-about/apparition-and-css-animations/"
	   rel="prev"
	   	   accesskey="j"
	   data-key="left"
			   title="Apparition and CSS Animations">
	   	title	</a>
		<a class="rp-PrevNextLink rp-PrevNextLink-next rp-PrevNextNav__next" 
	   href="/writing-about/livereload-magic-gulp-style/"
	   rel="next"
	   		accesskey="k"
	   	data-key="right"
			   title="Livereload magic, Gulp style!">
	   	title	</a>
</nav>
</article>

  </div>
  <script type='text/javascript'>
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":"https:\/\/romaricpascal.is\/wp-json\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Please verify that you are not a robot."}}};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/contact-form-7/includes/js/scripts.js?ver=4.9'></script>
  <script defer src="/wp-content/themes/romaricpascal.is/main.js"></script>
</body>
