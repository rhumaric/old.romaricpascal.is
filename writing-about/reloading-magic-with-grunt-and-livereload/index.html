<!doctype html><html lang="en-US"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        .u-troisCoups body>* {
            visibility: hidden;
        }
    </style>
    <script>
        (function (window) {
            if (document.documentElement.classList) {
                window.troisCoups = {
                    reveal: function () {
                        document.documentElement.classList.remove('u-troisCoups');
                    }
                };


                document.documentElement.classList.add('u-troisCoups');
                setTimeout(window.troisCoups.reveal, 1500);
            }
        })(window);
    </script>

    <link rel="stylesheet" href="/wp-content/themes/romaricpascal.is/style.css">
    <link rel="alternate" type="application/rss+xml" title="Romaric Pascal | Lettering &#x26; web development" href="/feed">

    <title>   Reloading magic with Grunt and livereload | Romaric Pascal</title>
    <meta name="description" content="Lettering &#x26; web development">

    <link rel="apple-touch-icon" sizes="180x180" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/favicon-16x16.png">
<link rel="manifest" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/manifest.json">
<link rel="mask-icon" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/safari-pinned-tab.svg" color="#022950">
<link rel="shortcut icon" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/favicon.ico">
<meta name="msapplication-config" content="/wp-content/themes/romaricpascal.is/assets/images/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffc744">
    <!-- FB OpenGraph info -->
        <meta prefix="og:http://ogp.me/ns#" property="og:url" content="/writing-about/reloading-magic-with-grunt-and-livereload/">
        <meta prefix="og:http://ogp.me/ns#" property="og:title" content="   Reloading magic with Grunt and livereload | Romaric Pascal">
    <meta prefix="og:http://ogp.me/ns#" property="og:description" content="Lettering &#x26; web development">
    <meta prefix="og:http://ogp.me/ns#" property="og:image" content="/wp-content/themes/romaricpascal.is/assets/images/rp_with-padding_yellowbg_480.png">

    <!-- Twitter cards -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@romaricpascal">
    <meta name="twitter:title" content="   Reloading magic with Grunt and livereload | Romaric Pascal">
    <meta name="twitter:description" content="Lettering &#x26; web development">
    <meta name="twitter:image" content="/wp-content/themes/romaricpascal.is/assets/images/rp_with-padding_yellowbg_480.png">

    <link rel="dns-prefetch" href="//s.w.org">

		
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>



<link rel="canonical" href="/writing-about/reloading-magic-with-grunt-and-livereload/">
  </head>
  <body class="post-template-default single single-post postid-291 single-format-standard flexbug3Wrapper">
    <header id="#header" class="rp-Header">
        <a class="rp-Logo" href="" title="Home">
    <img src="/wp-content/themes/romaricpascal.is/assets/images/rp-letters_144.png" alt="R-P monogram">
</a>
<nav class="rp-BreadcrumbNav">
    <div class="rp-CollapsedItemsMenu">
        <a class="rp-BreadcrumbLink rp-CollapsedItemsMenuToggle js-toggle" data-toggle-group="overlays" data-toggle-target=".rp-CollapsedItems">
            <span class="rp-BreadcrumbLinkSeparator"></span>
            <span class="rp-BreadcrumbLink__title">...</span>
        </a>
        <div class="rp-CollapsedItems js-outsideToggle"></div>
    </div>
    <div class="rp-BreadcrumbNavItems js-collapsible">
				<a href="/writing-about/" class="rp-BreadcrumbLink">
			<span class="rp-BreadcrumbLinkSeparator"></span>
			<span class="rp-BreadcrumbLink__title">Posts</span>
		</a>
		    </div>
</nav>      <nav class="rp-MainNav">
        <a class="t-hidden-visually" tabindex="1" href="#content">Skip to content</a>
        <a href="#main-nav" class="js-toggle" data-toggle-group="overlays" data-toggle-target=".rp-MenuContainer">Menu</a>
        <div class="rp-MenuContainer js-outsideToggle" id="main-nav">
        <a class="rp-NavLogo" href="" title="Home">
            <img src="/wp-content/themes/romaricpascal.is/assets/images/rp-knockout_shade_144.png" alt="Home">
        </a>
        <div class="menu-site-navigation-container"><ul id="menu-site-navigation" class="rp-Menu rp-Header__menuI"><li id="menu-item-936" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-936"><a href="/">Home</a></li>
<li id="menu-item-960" class="menu-item menu-item-type-post_type_archive menu-item-object-project menu-item-has-children menu-item-960"><a href="/proud-of/">Portfolio</a>
<ul class="sub-menu">
	<li id="menu-item-942" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-942"><a href="/proud-of/logo-brand-designs">Logo &#x26; Brand</a></li>
	<li id="menu-item-954" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-954"><a href="/proud-of/tshirts-merch-designs/">T-shirts &#x26; merch</a></li>
	<li id="menu-item-957" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-957"><a href="/proud-of/print-illustration-designs">Print &#x26; illustration</a></li>
</ul>
</li>
<li id="menu-item-964" class="menu-item menu-item-type-post_type_archive menu-item-object-artwork menu-item-964"><a href="/drawing-letters/">Artworks</a></li>
<li id="menu-item-935" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-935"><a href="/writing-about/">Blog</a></li>
<li id="menu-item-933" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-933"><a href="/happy-to-chat/">Contact</a></li>
<li id="menu-item-1022" class="menu-item menu-item-type-taxonomy menu-item-object-craft current-post-ancestor current-menu-parent current-post-parent menu-item-1022"><a href="/writing-about/craft/web/">Web</a></li>
<li id="menu-item-934" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-934"><a target="_blank" href="/selling-nice-stuff/">Shop</a></li>
</ul></div>        <a class="rp-MenuToggle js-toggle" href="#" data-toggle-group="overlays" data-toggle-target=".rp-MenuContainer">Close menu</a>
        <small class="rp-Legal l-Container">© Romaric Pascal (trading name of <a href="https://beta.companieshouse.gov.uk/company/08544032">Rhumaric Ltd</a>)</small>
        </div>
      </nav>
    </header>
    <div class="rp-Viewport l-vertCentered u-mh-100vh">


<article class="rp-Content">
  <header class="rp-HeaderWithSubhead u-mb-2">
    <h1 class="rp-HeaderWithSubhead__heading">
        Reloading magic with Grunt and livereload    </h1>
    <p><time datetime="2013-05-15T11:29:24+00:00">15 May 2013</time> — An article about: <a href="/writing-about/craft/web/" rel="tag">Web</a> - <a href="/writing-about/category/uncategorized/" rel="category tag">Uncategorized</a></p>
  </header>
  <main>
    <style>
#file-gruntfile-connect-open-js-LC24,
#file-gruntfile-connect-open-js-LC25,
#file-gruntfile-connect-open-js-LC26,
#file-gruntfile-connect-open-js-LC27,
#file-gruntfile-connect-open-js-LC28,
#file-gruntfile-connect-open-js-LC29,
#file-gruntfile-connect-open-js-LC36,
#file-gruntfile-connect-open-livereload-js-LC22,
#file-gruntfile-connect-open-livereload-js-LC23,
#file-gruntfile-connect-open-livereload-js-LC24,
#file-gruntfile-connect-open-livereload-js-LC25,
#file-gruntfile-connect-open-livereload-js-LC26,
#file-gruntfile-connect-open-livereload-js-LC27,
#file-gruntfile-connect-open-livereload-js-LC28,
#file-gruntfile-connect-open-livereload-js-LC29,
#file-gruntfile-connect-open-livereload-js-LC30,
#file-gruntfile-connect-open-livereload-js-LC31,
#file-gruntfile-connect-open-livereload-js-LC32,
#file-gruntfile-connect-open-livereload-js-LC33,
#file-gruntfile-connect-open-livereload-js-LC54,
#file-gruntfile-livereload-regarde-connect-open-js-LC17,
#file-gruntfile-livereload-regarde-connect-open-js-LC47,
#file-gruntfile-livereload-regarde-connect-open-js-LC48,
#file-gruntfile-livereload-regarde-connect-open-js-LC49,
#file-gruntfile-livereload-regarde-connect-open-js-LC50,
#file-gruntfile-livereload-regarde-connect-open-js-LC51,
#file-gruntfile-livereload-regarde-connect-open-js-LC52,
#file-gruntfile-livereload-regarde-connect-open-js-LC53,
#file-gruntfile-livereload-regarde-connect-open-js-LC54,
#file-gruntfile-livereload-regarde-connect-open-js-LC55,
#file-gruntfile-livereload-regarde-connect-open-js-LC65,
#file-gruntfile-livereload-regarde-connect-open-js-LC66,
#file-gruntfile-livereload-regarde-connect-open-js-LC67,
#file-gruntfile-livereload-regarde-connect-open-js-LC68
 {
  background: rgb(230, 230, 230);
}
</style>
<p>Think about how many times you hit F5 to refresh your page when you develop a web application. Quite a lot, I guess, not to mention the number of time you do it a second time because you weren’t sure if you had done it in the first place. It doesn’t seem much, but this ‘edit, switch to browser, F5’ routine kinda becomes a hassle at some point.</p>
<p>Obviously, we can’t skip the edit step. Nor can we automate when to switch to the browser. But we can definitely skip this last ‘F5’ step: using Grunt and a few plugins, we can make the browser automatically reload when we save files! Let’s see how to do it 🙂</p>
<p><strong>Update – Jul 24th, 2013 : The <code>grunt-contrib-livereload</code> task used in this article has become deprecated. I’ve published <a href="/keeping-old-stuff/renewing-the-grunt-livereload-magic/">an updated walkthrough</a> using more recent tools.</strong></p>
<h2>The toolbox</h2>
<p>First of all, let’s have a look at the tools we’ll need. Grunt is based on <a href="https://nodejs.org/">NodeJS</a> and we’ll load its plugins using <a href="https://npmjs.org/">NPM</a> so you’ll want to install these two. I’ll leave it to <a href="https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager">NodeJS documentation</a> to explain you how 😉</p>
<p>And of course, you’ll need <a href="https://gruntjs.com/">Grunt</a> which is dead easy to install once you have NPM (you might need to sudo the command if you’re on a Unix platform): <code>npm install -g grunt-cli</code></p>
<h2>Project setup</h2>
<p>For this example, we’re just going to make changes to  a simple <code>index.html</code> file, so we’ll need a new folder with, well…, and <code>index.html</code> file in it. I’ll leave it’s content up to you 🙂 Just make sure it contains a little something in its <code>&#x3C;body></code>.</p>
<p>To keep everything tidy we’ll also need a <code>package.json</code> file to list the Grunt plugins we’ll use. They are:</p>
<ul>
<li><code>grunt-contrib-connect</code>, to serve the files of our project</li>
<li><code>grunt-regarde</code>, to monitor the file changes</li>
<li><code>grunt-contrib-livereload</code>, to reload the page in the browser</li>
</ul>
<p>Which gives us the following <code>package.json</code> file (<code>matchdep</code> will help loading the grunt plugins in the Gruntfile):</p>
<p><script src="https://gist.github.com/rhumaric/b427edb2418058d8fe68.js"></script></p>
<p>All’s left is to install those plugin using <code>npm install</code> in the folder of the project. This should create a new <code>node_modules</code> directory in the project folder, with plenty of Grunt power inside.</p>
<p>It’s now time to edit the Grunt configuration to make some magic happen :).</p>
<h2>Serving the files of the project</h2>
<p>First thing, we’ll make Grunt start a small server so we can access our project over HTTP rather than the filesystem. Livereload uses a bit of javascript to refresh the page and having this server ready will help with injecting the Javascript code in our pages.</p>
<p>This is the role of the <code>grunt-contrib-connect</code> plugin. This makes our initial Grunt configuration (to store in a file named <code>Grunfile.js</code> at the root of your project):</p>
<p><script src="https://gist.github.com/rhumaric/5577154.js"></script></p>
<p>Now if you type <code>grunt server</code> in your command line (from the directory of the project) and open your browser to <a href="https://localhost:9000" rel="nofollow">https://localhost:9000</a>, you’ll access the <code>index.html</code> page.</p>
<p>If opening your browser is too much of a hassle (it is for me ;)), you can even use the <code>grunt-open</code> plugin to make the server task open your browser for you at the right URL. Let’s add it to the <code>package.json</code> (<code>"grunt-open": "~0.2.0"</code>), install it with <code>npm install</code> and use it in our Gruntfile:</p>
<p><script src="https://gist.github.com/rhumaric/5577257.js"></script></p>
<p>Boom! <code>grunt server</code> now starts the server and opens the browser. That’s a good start!</p>
<h2>Setting up livereload</h2>
<p>Next, we’re going to set up livereload, which means to things:</p>
<ul>
<li>have the <code>connect</code> plugin insert a little piece of Javascript in the pages it serves so the browser gets notified when it needs to reload</li>
<li>start the livereload server when we serve our project and configure the port it runs on</li>
</ul>
<p><script src="https://gist.github.com/rhumaric/5577385.js"></script></p>
<p>If you have a look at your page after you use <code>grunt server</code> again (don’t forget to kill the one your started previously), you’ll notice two new <code>&#x3C;script></code> tags at the bottom of the <code>&#x3C;body></code>. Livereload is ready!</p>
<h2>Reloading when the file changes</h2>
<p>Now we have livereload ready to refresh our page, all that’s left is to configure the <code>regarde</code> task to trigger it when file changes:</p>
<p><script src="https://gist.github.com/rhumaric/5577590.js"></script></p>
<p>We’re now all set up! Start the <code>grunt server</code> task, edit the <code>index.html</code> file and you’ll see you’re browser refreshing automatically, magic! (well, we all know magic is just about good tricks :)).</p>
<p>It also work wonders to serve the page running your QUnit/Mocha/whatever tests. Automatic testing every time you change your code! Note that you could also use grunt plugins to run your tests, but I prefer having the browser’s developer tools at hand when developing.</p>
<p><strong>Pretty handy plugin, this livereload thing, don’t you think?</strong></p>
  </main>
  <aside>

  </aside>
  <nav class="rp-PrevNextNav">
		<a class="rp-PrevNextLink rp-PrevNextLink-prev rp-PrevNextNav__previous" href="/writing-about/front-end-toolbox-grunt-and-bower/" rel="prev" accesskey="j" data-key="left" title="Front-end toolbox: Grunt and Bower">
	   	title	</a>
		<a class="rp-PrevNextLink rp-PrevNextLink-next rp-PrevNextNav__next" href="/writing-about/more-grunt-magic-with-usemin/" rel="next" accesskey="k" data-key="right" title="More Grunt magic with usemin">
	   	title	</a>
</nav>
</article>

  </div>
  

  <script defer src="/wp-content/themes/romaricpascal.is/main.js"></script>

</body></html>