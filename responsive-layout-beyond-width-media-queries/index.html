
<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        .u-troisCoups body>* {
            visibility: hidden;
        }
    </style>
    <script>
        (function (window) {
            if (document.documentElement.classList) {
                window.troisCoups = {
                    reveal: function () {
                        document.documentElement.classList.remove('u-troisCoups');
                    }
                };


                document.documentElement.classList.add('u-troisCoups');
                setTimeout(window.troisCoups.reveal, 1500);
            }
        })(window);
    </script>

    <link rel="stylesheet" href="/wp-content/themes/romaricpascal.is/style.css">
    <link rel="alternate" type="application/rss+xml" title="Romaric Pascal | Lettering &amp; web development" href="/feed">

    <title>   Responsive layout beyond width media queries | Romaric Pascal</title>
    <meta name="description" content="Lettering &amp; web development">

    <link rel="apple-touch-icon" sizes="180x180" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/favicon-16x16.png">
<link rel="manifest" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/manifest.json">
<link rel="mask-icon" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/safari-pinned-tab.svg" color="#022950">
<link rel="shortcut icon" href="/wp-content/themes/romaricpascal.is/assets/images/favicons/favicon.ico">
<meta name="msapplication-config" content="/wp-content/themes/romaricpascal.is/assets/images/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffc744">
    <!-- FB OpenGraph info -->
        <meta prefix="og:http://ogp.me/ns#" property="og:url" content="/writing-about/responsive-layout-beyond-width-media-queries/">
        <meta prefix="og:http://ogp.me/ns#" property="og:title" content="   Responsive layout beyond width media queries | Romaric Pascal">
    <meta prefix="og:http://ogp.me/ns#" property="og:description" content="Lettering &amp; web development">
    <meta prefix="og:http://ogp.me/ns#" property="og:image" content="/wp-content/themes/romaricpascal.is/assets/images/rp_with-padding_yellowbg_480.png">

    <!-- Twitter cards -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@romaricpascal" />
    <meta name="twitter:title" content="   Responsive layout beyond width media queries | Romaric Pascal" />
    <meta name="twitter:description" content="Lettering &amp; web development" />
    <meta name="twitter:image" content="/wp-content/themes/romaricpascal.is/assets/images/rp_with-padding_yellowbg_480.png" />

    <link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Romaric Pascal &raquo; Responsive layout beyond width media queries Comments Feed" href="/writing-about/responsive-layout-beyond-width-media-queries/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/romaricpascal.is\/wordpress\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.8.13"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b!==c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='contact-form-7-css'  href='/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=4.9' type='text/css' media='all' />
<script type='text/javascript' src='/wordpress/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wordpress/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel="canonical" href="/writing-about/responsive-layout-beyond-width-media-queries/" />
  </head>
  <body class="post-template-default single single-post postid-894 single-format-standard flexbug3Wrapper">
    <header id="#header" class="rp-Header">
        <a class="rp-Logo" href="" title="Home">
    <img src="/wp-content/themes/romaricpascal.is/assets/images/rp-letters_144.png" alt="R-P monogram">
</a>
<nav class="rp-BreadcrumbNav">
    <div class="rp-CollapsedItemsMenu">
        <a class="rp-BreadcrumbLink rp-CollapsedItemsMenuToggle js-toggle" data-toggle-group="overlays" data-toggle-target=".rp-CollapsedItems">
            <span class="rp-BreadcrumbLinkSeparator"></span>
            <span class="rp-BreadcrumbLink__title">...</span>
        </a>
        <div class="rp-CollapsedItems js-outsideToggle"></div>
    </div>
    <div class="rp-BreadcrumbNavItems js-collapsible">
				<a href="/writing-about/" class="rp-BreadcrumbLink">
			<span class="rp-BreadcrumbLinkSeparator"></span>
			<span class="rp-BreadcrumbLink__title">Posts</span>
		</a>
		    </div>
</nav>      <nav class="rp-MainNav">
        <a class="t-hidden-visually" tabindex="1" href="#content">Skip to content</a>
        <a href="#main-nav" class="js-toggle" data-toggle-group="overlays" data-toggle-target=".rp-MenuContainer">Menu</a>
        <div class="rp-MenuContainer js-outsideToggle" id="main-nav">
        <a class="rp-NavLogo" href="" title="Home">
            <img src="/wp-content/themes/romaricpascal.is/assets/images/rp-knockout_shade_144.png" alt="Home">
        </a>
        <div class="menu-site-navigation-container"><ul id="menu-site-navigation" class="rp-Menu rp-Header__menuI"><li id="menu-item-936" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-936"><a href="/">Home</a></li>
<li id="menu-item-960" class="menu-item menu-item-type-post_type_archive menu-item-object-project menu-item-has-children menu-item-960"><a href="/proud-of/">Portfolio</a>
<ul  class="sub-menu">
	<li id="menu-item-942" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-942"><a href="/proud-of/logo-brand-designs">Logo &#038; Brand</a></li>
	<li id="menu-item-954" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-954"><a href="/proud-of/tshirts-merch-designs/">T-shirts &#038; merch</a></li>
	<li id="menu-item-957" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-957"><a href="/proud-of/print-illustration-designs">Print &#038; illustration</a></li>
</ul>
</li>
<li id="menu-item-964" class="menu-item menu-item-type-post_type_archive menu-item-object-artwork menu-item-964"><a href="/drawing-letters/">Artworks</a></li>
<li id="menu-item-935" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-935"><a href="/writing-about/">Blog</a></li>
<li id="menu-item-933" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-933"><a href="/happy-to-chat/">Contact</a></li>
<li id="menu-item-1022" class="menu-item menu-item-type-taxonomy menu-item-object-craft current-post-ancestor current-menu-parent current-post-parent menu-item-1022"><a href="/writing-about/craft/web/">Web</a></li>
<li id="menu-item-934" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-934"><a target="_blank" href="/selling-nice-stuff/">Shop</a></li>
</ul></div>        <a class="rp-MenuToggle js-toggle" href="#" data-toggle-group="overlays" data-toggle-target=".rp-MenuContainer">Close menu</a>
        <small class="rp-Legal l-Container">¬© Romaric Pascal (trading name of <a href="https://beta.companieshouse.gov.uk/company/08544032">Rhumaric Ltd</a>)</small>
        </div>
      </nav>
    </header>
    <div class="rp-Viewport l-vertCentered u-mh-100vh">


<article class="rp-Content">
  <header class="rp-HeaderWithSubhead u-mb-2">
    <h1 class="rp-HeaderWithSubhead__heading">
        Responsive layout beyond width media queries    </h1>
    <p><time datetime="2017-08-09T12:01:35+00:00">09 Aug 2017</time> ‚Äî An article about: <a href="/writing-about/craft/web/" rel="tag">Web</a> - <a href="/writing-about/category/css/" rel="category tag">CSS</a> - <a href="/writing-about/category/css/responsiveness/" rel="category tag">Responsiveness</a></p>
  </header>
  <main>
    <p>When thinking of responsive layouts, the first thing that comes to mind is probably width based media queries: (<code>@media (min-width:...)</code> or <code>@media(max-width:...)</code>. CSS provides other means to adjust your designs to the screen size. Viewport units, calc, height and aspect-ratio media queries‚Ä¶ these are just a few of them. Let‚Äôs see how they can be of help following the enhancement of a page I‚Äôve recently been working on.</p>
<h2 id="starting-point"><a class="headeranchor-link" href="#starting-point" name="user-content-starting-point" aria-hidden="true"></a>Starting point</h2>
<p>The page in question is the <a href="/drawing-letters">artwork page</a> of my (soon to be)updated portfolio. Content-wise, there‚Äôs nothing too fancy. It‚Äôll obviously show a picture of the artwork. And provide a few additional things to complement it:</p>
<ul>
<li>a small caption (with a date of publication)</li>
<li>links to related pages (shop, project the artwork was for‚Ä¶)</li>
<li>a few other artworks to encourage discovery of content</li>
<li>social media share buttons.</li>
</ul>
<p>To navigate through the artworks, the page also features previous/next buttons. And that‚Äôs it. Like I said, nothing crazy, which leads to the no crazier HTML markup:</p>
<p><script src="https://gist.github.com/rhumaric/07b24a6779674b06fa55d6c4ba8158da.js?file=index.html"></script></p>
<p>With nothing more to control the layout, each block of content will just be stacked under the previous one and expand as the viewport‚Äôs width grow. <a href="/wp-content/uploads/responsive-layout-beyond-width-media-queries/starting-point/" target="_blank" rel="noopener">Here&#8217;s how it looks</a>. Let‚Äôs see how we can improve on that!</p>
<h2 id="viewport-units-and-calc"><a class="headeranchor-link" href="#viewport-units-and-calc" name="user-content-viewport-units-and-calc" aria-hidden="true"></a>Viewport units (and calc)</h2>
<p>First, we‚Äôll make some adjustments to the image. People get to this specific page to look at a picture. As the picture grows with the width, a limited height might come and crop it, only revealing the top part of the image at first.</p>
<p>Not an ideal first impression of the artwork, so let‚Äôs remedy to that and make sure the image is always visible in full. This means adapting its size to the height of the viewport, rather than the width, which is where viewport units come handy.</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/length#Viewport-percentage_lengths">Viewport units</a> are CSS length units that represent one percent of a size of the viewport:</p>
<ul>
<li><code>vw</code> for the width</li>
<li><code>vh</code> for the height</li>
<li><code>vmin</code> for the smallest of these dimensions</li>
<li><code>vmax</code> for the largest</li>
</ul>
<p>Using <code>vh</code>, we can now limit the size of the image so it fits the screen perfectly. We need to account for the header at the top though, which steals some space (`3em`) from the full height (which would be 100vh). <code><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/calc">calc</a></code> to the rescue! It&#8217;ll do the computation using the different units to account for that. While we‚Äôre reducing the size we might as well shave a bit more height to make sure the caption starts showing and entices the user to scroll and read it.</p>
<p><script src="https://gist.github.com/rhumaric/07b24a6779674b06fa55d6c4ba8158da.js?file=viewport-units.css"></script></p>
<p>Good! Now whatever the screen, the image is always visible in full to start with. Let‚Äôs remember to add a link to a zoomed in version to let people look at the details too (but this part is not really about responsiveness, so let‚Äôs leave it out for now). <a href="/wp-content/uploads/responsive-layout-beyond-width-media-queries/viewport-units/" target="_blank" rel="noopener">Here&#8217;s the result</a>.</p>
<h2 id="height-media-queries"><a class="headeranchor-link" href="#height-media-queries" name="user-content-height-media-queries" aria-hidden="true"></a>Height media queries</h2>
<p>As the height grows now, so will the image, and if the width of the screen allows it, it‚Äôll take the whole viewport if it can. This works well on small screens but feels a bit cramped past a certain width. Not to mention the line length of the caption growing past what‚Äôs comfortable for reading. Let‚Äôs improve that!</p>
<p>Playing with the width of the viewport (resizing the browser or using its responsive design dev tools), we can decide past which width things are breaking.</p>
<p>Then, usually, that‚Äôll be dealt with using a width media query: past a certain viewport width, set the <code>max-width</code> of the element to a fixed value. Our image size is adjusted to the height of the screen this time. This means we‚Äôll need to use a height media query (and not forget to add back the length we‚Äôre removing in the <code>calc</code>).</p>
<p><script src="https://gist.github.com/rhumaric/07b24a6779674b06fa55d6c4ba8158da.js?file=height-media-queries.css"></script></p>
<p>This makes things much nicer on a bigger screen. Win! <a href="/wp-content/uploads/responsive-layout-beyond-width-media-queries/height-media-queries/" target="_blank" rel="noopener">It looks like this now</a>.</p>
<h2 id="aspect-ratio-media-queries"><a class="headeranchor-link" href="#aspect-ratio-media-queries" name="user-content-aspect-ratio-media-queries" aria-hidden="true"></a>Aspect ratio media queries</h2>
<p>That last adjustment gained us quite a bit of space (when available) on the sides of the content. This would be a much-improved place for the previous/next links, promoting navigation through the series of artworks.</p>
<p>The question is‚Ä¶ when is that space available? We‚Äôve got space when the overall width is more than the sum of the image width and the necessary width to put the two buttons: <code>min-width: &lt;image-width&gt; + 2 * &lt;button-width&gt;</code>.</p>
<p>Like earlier, though, the viewport‚Äôs height is at play here, because of it‚Äôs relation to the content width. Our minimum width is actually: <code>min-width: (&lt;full-height&gt; - &lt;reserved-spacing&gt;) + 2 * &lt;button-width&gt;</code>.</p>
<p>It looks like another job for <code>calc</code>‚Ä¶ except <a href="https://www.w3.org/TR/css3-mediaqueries/#media1">media queries do not support <code>calc</code>ed values</a> üôÅ Fortunately, they do support a media feature that expresses a relation between the width and height: <code>aspect-ratio</code>. Rounding the previous sum into a ratio will not make things as precise, but will be enough to guarantee the space for small width.</p>
<p><script src="https://gist.github.com/rhumaric/07b24a6779674b06fa55d6c4ba8158da.js?file=aspect-ratio-media-queries.css"></script></p>
<p>Great! When there‚Äôs enough space, people now get a quicker access to the navigation! <a href="/wp-content/uploads/responsive-layout-beyond-width-media-queries/aspect-ratio-media-queries/" target="_blank" rel="noopener">Check it out</a>.</p>
<h2 id="combining-media-queries"><a class="headeranchor-link" href="#combining-media-queries" name="user-content-combining-media-queries" aria-hidden="true"></a>Combining media queries</h2>
<p>Past the ‚Äúfixed width‚Äù breakpoint, the positioning of the navigation buttons breaks a bit. The buttons are displayed, but they grow further and further from the content as the height grows.</p>
<p>For large heights, also, the <code>aspect-ratio</code> query shows its limitations. As the height gets bigger, the query requires a larger and larger viewport width to be triggered. This makes viewports where there‚Äôd obviously been space for the arrows miss out on the enhancement.</p>
<p>At that point, the image size is set. We can just combine a ‚Äúclassic‚Äù <code>min-width</code> query to the <code>min-height</code> one to ensure the arrows will get displayed on screens with enough space, but not fitting the previous <code>aspect-ratio</code>.</p>
<p><script src="https://gist.github.com/rhumaric/07b24a6779674b06fa55d6c4ba8158da.js?file=combined-media-queries.css"></script></p>
<p>And now that‚Äôs better! No more missing navigation when there‚Äôs space for it. <a href="/wp-content/uploads/responsive-layout-beyond-width-media-queries/combined-media-queries/" target="_blank" rel="noopener">And there we are</a>.</p>
<h2 id="conclusion"><a class="headeranchor-link" href="#conclusion" name="user-content-conclusion" aria-hidden="true"></a>Conclusion</h2>
<p>Further improvements could be made to the design (that unique column makes things look a bit empty at large width, for example). They wouldn‚Äôt rely on different mechanisms than the ones already described so let‚Äôs leave it there. Plus, that would spoil the surprise of unveiling the new design üòâ</p>
<p>These 4 CSS features have allowed us to get finer control on how the content would adapt to different viewports. I hope you‚Äôll find them useful if <code>min-width</code> or <code>max-width</code> don‚Äôt solve your layout problem. I‚Äôd be happy to hear how they worked for you, or if you use other features too to adapt your designs.</p>
<p><span style="border-radius: 2px; text-indent: 20px; width: auto; padding: 0px 4px 0px 0px; text-align: center; font: bold 11px/20px 'Helvetica Neue',Helvetica,sans-serif; color: #ffffff; background: #bd081c no-repeat scroll 3px 50% / 14px 14px; position: absolute; opacity: 1; z-index: 8675309; display: none; cursor: pointer;">Save</span></p>
<p><span style="border-radius: 2px; text-indent: 20px; width: auto; padding: 0px 4px 0px 0px; text-align: center; font: bold 11px/20px 'Helvetica Neue',Helvetica,sans-serif; color: #ffffff; background: #bd081c no-repeat scroll 3px 50% / 14px 14px; position: absolute; opacity: 1; z-index: 8675309; display: none; cursor: pointer;">Save</span></p>
<p><span style="border-radius: 2px; text-indent: 20px; width: auto; padding: 0px 4px 0px 0px; text-align: center; font: bold 11px/20px 'Helvetica Neue',Helvetica,sans-serif; color: #ffffff; background: #bd081c no-repeat scroll 3px 50% / 14px 14px; position: absolute; opacity: 1; z-index: 8675309; display: none; cursor: pointer;">Save</span></p>
<p><span style="border-radius: 2px; text-indent: 20px; width: auto; padding: 0px 4px 0px 0px; text-align: center; font: bold 11px/20px 'Helvetica Neue',Helvetica,sans-serif; color: #ffffff; background: #bd081c no-repeat scroll 3px 50% / 14px 14px; position: absolute; opacity: 1; z-index: 8675309; display: none; cursor: pointer;">Save</span></p>
<p><span style="border-radius: 2px; text-indent: 20px; width: auto; padding: 0px 4px 0px 0px; text-align: center; font: bold 11px/20px 'Helvetica Neue',Helvetica,sans-serif; color: #ffffff; background: #bd081c  no-repeat scroll 3px 50% / 14px 14px; position: absolute; opacity: 1; z-index: 8675309; display: none; cursor: pointer;">Save</span></p>
  </main>
  <aside>

  </aside>
  <nav class="rp-PrevNextNav">
		<a class="rp-PrevNextLink rp-PrevNextLink-prev rp-PrevNextNav__previous" 
	   href="/writing-about/designing-tedxbristol-dare-to-disrupt-branding/"
	   rel="prev"
	   	   accesskey="j"
	   data-key="left"
			   title="Designing TEDxBristol &quot;Dare to Disrupt&quot; branding">
	   	title	</a>
		<a class="rp-PrevNextLink rp-PrevNextLink-next rp-PrevNextNav__next" 
	   href="/writing-about/lettering-for-the-web/"
	   rel="next"
	   		accesskey="k"
	   	data-key="right"
			   title="Lettering for the web">
	   	title	</a>
</nav>
</article>

  </div>
  <script type='text/javascript'>
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":"https:\/\/romaricpascal.is\/wp-json\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Please verify that you are not a robot."}}};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/contact-form-7/includes/js/scripts.js?ver=4.9'></script>
  <script defer src="/wp-content/themes/romaricpascal.is/main.js"></script>
</body>
